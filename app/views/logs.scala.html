@import play.libs.Scala._

@(list: Seq[_root_.logging.LogEntry], nextPage: Int)

<!DOCTYPE html>
<html lang="en">
    <head>        
        <title>Logs</title>
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/logs.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.versioned("images/favicon.png")">
    </head>
    <body>
      <h4><a href="@routes.HomeController.index">Home</a> | <a href="@routes.LogController.list(1)">Logs</a></h4>

      <h1>Logs</h1>
        <p style="text-align: right; padding-right: 50px;">
          <a href="@controllers.routes.LogController.list(nextPage)">Page @nextPage &ndash;&gt;</a>
        </p>
        
        @* from https://codepen.io/adam-lynch/pen/GaqgXP/ *@
        <table>
          <thead>
            <tr>
              <th data-type="text-short">Timestamp  <span class="resize-handle"></span></th>
              <th data-type="text-short">Level <span class="resize-handle"></span></th>
              <th data-type="text-short">Logger <span class="resize-handle"></span></th>
              <th data-type="text-short">Correlation ID <span class="resize-handle"></span></th>
              <th data-type="text-message">Message <span class="resize-handle"></span></th>
            </tr>
          </thead>
        
          <tbody>
          @for(e <- list) {
          <tr>
            <td><a href="@routes.LogController.show(e.uniqueId)">@e.timestamp</a></td>
            <td>@e.level</td>
            <td>@e.loggerName</td>
            <td>
              @Option(e.requestId.orElse(null)).map { id =>
                <a href="@routes.LogController.correlation(id)">@id</a>
              }
            </td>
            <td>@e.message</td>
          </tr>
          }
          </tbody>
        </table>
              
        <script src="@routes.Assets.versioned("javascripts/logs.js")" type="text/javascript"></script>
    </body>
</html>
